### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

*Приведите ответ в свободной форме.*

---
### Решение 1

1.1. Восстановление данных в полном объеме за предыдущий день:
Для этого нужно ежедневно создавать полные резервные копии баз данных. По расписанию, например, каждый день ночью, делается резервное копирование всех данных. Эти копии хранятся в надежном месте, и при необходимости могут быть восстановлены для восстановления данных на момент окончания предыдущего дня.

1.2. Восстановление данных за час до предполагаемой поломки:
Для этого нужно регулярно создавать инкрементные или дифференциальные резервные копии. Например, каждый час делается инкрементное копирование, сохраняя только измененные данные. В случае поломки, можно восстановить последнюю полную копию и применить к ней инкрементные копии за последний час до поломки.

1.3. Моментальное переключение на работающую или починенную базу данных:
Для достижения моментального переключения на работающую или починенную базу данных, можно использовать технологии репликации или кластеризации. Например, настроить мастер-слейв репликацию, где мастер-сервер постоянно реплицирует данные на слейв-сервер. Если мастер сломается, слейв может моментально переключиться и стать мастером, обеспечивая непрерывную работу системы.

---
### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

*Приведите ответ в свободной форме.*

---
### Решение 2

2.1
- пример команды резервирования данных PostgreSQL:
```sql
pg_dump -U username -d dbname -f backup_file.sql
```
- Команда для восстановления БД:
```sql
psql -U username -d dbname -f backup_file.sql
```
2.1*
Процесс резервирования и восстановления БД можно автоматизировать например с использованием скриптов и добавив их в cron для выполнения по расписанию .


---
### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

3.1.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?

*Приведите ответ в свободной форме.*

---

### Решение 3
3.1
Для инкрементного резервного копирования MySQL, можно использовать команду mysqldump с опцией --single-transaction :

```sql
mysqldump -u username -p --single-transaction dbname > backup_file.sql
```
3.1*
Использование репликации в MySQL предоставляет следующие преимущества:

- Высокая доступность: Если основная БД выходит из строя, запросы могут быть перенаправлены на реплику, обеспечивая непрерывную работу системы
- Шкалируемость чтения: позволяет распределить нагрузку, направляя чтение на реплику, повышая производительность
- Безопасное тестирование: Репликация позволяет создать копию основной базы данных